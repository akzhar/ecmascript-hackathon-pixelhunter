(function (chai) {
  'use strict';

  // Scoring at the end of the game
  // @param  {array} answers массив ответов пользователя
  // @param  {integer} lives кол-во оставшихся жизней
  // @return {integer} кол-во набранных очков
  function getTotalScore(answers, lives) {
    if (answers.length < 10) {
      return -1;
    }
    const score = answers.reduce((acc, answer) => {
      if (answer.isOK) {
        acc += 100;
      }
      if (answer.time < 10) {
        acc += 50;
      }
      if (answer.time > 20) {
        acc -= 50;
      }
      return acc;
    }, 0);
    return score + lives * 50;
  }

  function getRightAnswersCount(answers) {
    return answers.filter((answer) => answer.isOK).length;
  }

  function getSpeedBonusCount(answers) {
    return answers.filter((answer) => answer.time < 10).length;
  }

  function getSlowPenaltyCount(answers) {
    return answers.filter((answer) => answer.time > 20).length;
  }

  // В блоке describe (набор тестов) указывается что будет тестировать этот блок тестов
  //   – Отвечает на вопрос «О чём эти тесты?»
  // В блоке it (тестовый случай) описывается, то что проверяет этот набор тестов
  //   – Отвечает на вопрос «Что делают эти проверки?»

  const notAllAnswers =
  [{
    isOK: true,
    time: 30
  }, {
    isOK: false,
    time: 5
  }];

  const allAnswersNotFastNotSlow =
  [{
    isOK: true,
    time: 11
  }, {
    isOK: true,
    time: 12
  }, {
    isOK: true,
    time: 11
  }, {
    isOK: true,
    time: 15
  }, {
    isOK: true,
    time: 19
  }, {
    isOK: true,
    time: 18
  }, {
    isOK: true,
    time: 17
  }, {
    isOK: true,
    time: 16
  }, {
    isOK: true,
    time: 18
  }, {
    isOK: true,
    time: 13
  }];

  describe(`Scoring at the end of the game`, () => {
    it(`should return -1 when not all answers (< 10) are given`, () => {
      chai.assert.equal(-1, getTotalScore(notAllAnswers, 2));
    });
    it(`should return 1150 when all answers are given (10) right, not fast but not slow (10 > time < 20) and all lives (4) are remain`, () => {
      chai.assert.equal(1150, getTotalScore(allAnswersNotFastNotSlow, 3));
    });
  });

  describe(`Сalc right asnwers`, () => {
    it(`should return 1`, () => {
      chai.assert.equal(1, getRightAnswersCount(notAllAnswers));
    });
    it(`should return 10`, () => {
      chai.assert.equal(10, getRightAnswersCount(allAnswersNotFastNotSlow));
    });
  });

  describe(`Сalc speed bonuses`, () => {
    it(`should return 1`, () => {
      chai.assert.equal(1, getSpeedBonusCount(notAllAnswers));
    });
  });

  describe(`Сalc slow penalties`, () => {
    it(`should return 1`, () => {
      chai.assert.equal(1, getSlowPenaltyCount(notAllAnswers));
    });
  });

}(chai));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdHMvc2NvcmUudGVzdC5qcyIsInNvdXJjZXMiOlsic3JjL2pzL3Njb3JlLmpzIiwic3JjL2pzL3Rlc3RzL3Njb3JlLnRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gU2NvcmluZyBhdCB0aGUgZW5kIG9mIHRoZSBnYW1lXG4vLyBAcGFyYW0gIHthcnJheX0gYW5zd2VycyDQvNCw0YHRgdC40LIg0L7RgtCy0LXRgtC+0LIg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXG4vLyBAcGFyYW0gIHtpbnRlZ2VyfSBsaXZlcyDQutC+0Lst0LLQviDQvtGB0YLQsNCy0YjQuNGF0YHRjyDQttC40LfQvdC10Llcbi8vIEByZXR1cm4ge2ludGVnZXJ9INC60L7Quy3QstC+INC90LDQsdGA0LDQvdC90YvRhSDQvtGH0LrQvtCyXG5mdW5jdGlvbiBnZXRUb3RhbFNjb3JlKGFuc3dlcnMsIGxpdmVzKSB7XG4gIGlmIChhbnN3ZXJzLmxlbmd0aCA8IDEwKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGNvbnN0IHNjb3JlID0gYW5zd2Vycy5yZWR1Y2UoKGFjYywgYW5zd2VyKSA9PiB7XG4gICAgaWYgKGFuc3dlci5pc09LKSB7XG4gICAgICBhY2MgKz0gMTAwO1xuICAgIH1cbiAgICBpZiAoYW5zd2VyLnRpbWUgPCAxMCkge1xuICAgICAgYWNjICs9IDUwO1xuICAgIH1cbiAgICBpZiAoYW5zd2VyLnRpbWUgPiAyMCkge1xuICAgICAgYWNjIC09IDUwO1xuICAgIH1cbiAgICByZXR1cm4gYWNjO1xuICB9LCAwKTtcbiAgcmV0dXJuIHNjb3JlICsgbGl2ZXMgKiA1MDtcbn1cblxuZnVuY3Rpb24gZ2V0UmlnaHRBbnN3ZXJzQ291bnQoYW5zd2Vycykge1xuICByZXR1cm4gYW5zd2Vycy5maWx0ZXIoKGFuc3dlcikgPT4gYW5zd2VyLmlzT0spLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gZ2V0U3BlZWRCb251c0NvdW50KGFuc3dlcnMpIHtcbiAgcmV0dXJuIGFuc3dlcnMuZmlsdGVyKChhbnN3ZXIpID0+IGFuc3dlci50aW1lIDwgMTApLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gZ2V0U2xvd1BlbmFsdHlDb3VudChhbnN3ZXJzKSB7XG4gIHJldHVybiBhbnN3ZXJzLmZpbHRlcigoYW5zd2VyKSA9PiBhbnN3ZXIudGltZSA+IDIwKS5sZW5ndGg7XG59XG5cbmV4cG9ydCB7Z2V0VG90YWxTY29yZSwgZ2V0UmlnaHRBbnN3ZXJzQ291bnQsIGdldFNwZWVkQm9udXNDb3VudCwgZ2V0U2xvd1BlbmFsdHlDb3VudH07XG4iLCJpbXBvcnQge2Fzc2VydH0gZnJvbSAnY2hhaSc7XG5pbXBvcnQge2dldFRvdGFsU2NvcmUsIGdldFJpZ2h0QW5zd2Vyc0NvdW50LCBnZXRTcGVlZEJvbnVzQ291bnQsIGdldFNsb3dQZW5hbHR5Q291bnR9IGZyb20gJy4uL3Njb3JlLmpzJztcblxuLy8g0JIg0LHQu9C+0LrQtSBkZXNjcmliZSAo0L3QsNCx0L7RgCDRgtC10YHRgtC+0LIpINGD0LrQsNC30YvQstCw0LXRgtGB0Y8g0YfRgtC+INCx0YPQtNC10YIg0YLQtdGB0YLQuNGA0L7QstCw0YLRjCDRjdGC0L7RgiDQsdC70L7QuiDRgtC10YHRgtC+0LJcbi8vICAg4oCTINCe0YLQstC10YfQsNC10YIg0L3QsCDQstC+0L/RgNC+0YEgwqvQniDRh9GR0Lwg0Y3RgtC4INGC0LXRgdGC0Ys/wrtcbi8vINCSINCx0LvQvtC60LUgaXQgKNGC0LXRgdGC0L7QstGL0Lkg0YHQu9GD0YfQsNC5KSDQvtC/0LjRgdGL0LLQsNC10YLRgdGPLCDRgtC+INGH0YLQviDQv9GA0L7QstC10YDRj9C10YIg0Y3RgtC+0YIg0L3QsNCx0L7RgCDRgtC10YHRgtC+0LJcbi8vICAg4oCTINCe0YLQstC10YfQsNC10YIg0L3QsCDQstC+0L/RgNC+0YEgwqvQp9GC0L4g0LTQtdC70LDRjtGCINGN0YLQuCDQv9GA0L7QstC10YDQutC4P8K7XG5cbmNvbnN0IG5vdEFsbEFuc3dlcnMgPVxuW3tcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMzBcbn0sIHtcbiAgaXNPSzogZmFsc2UsXG4gIHRpbWU6IDVcbn1dO1xuXG5jb25zdCBhbGxBbnN3ZXJzTm90RmFzdE5vdFNsb3cgPVxuW3tcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMTFcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMTJcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMTFcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMTVcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMTlcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMThcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMTdcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMTZcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMThcbn0sIHtcbiAgaXNPSzogdHJ1ZSxcbiAgdGltZTogMTNcbn1dO1xuXG5kZXNjcmliZShgU2NvcmluZyBhdCB0aGUgZW5kIG9mIHRoZSBnYW1lYCwgKCkgPT4ge1xuICBpdChgc2hvdWxkIHJldHVybiAtMSB3aGVuIG5vdCBhbGwgYW5zd2VycyAoPCAxMCkgYXJlIGdpdmVuYCwgKCkgPT4ge1xuICAgIGFzc2VydC5lcXVhbCgtMSwgZ2V0VG90YWxTY29yZShub3RBbGxBbnN3ZXJzLCAyKSk7XG4gIH0pO1xuICBpdChgc2hvdWxkIHJldHVybiAxMTUwIHdoZW4gYWxsIGFuc3dlcnMgYXJlIGdpdmVuICgxMCkgcmlnaHQsIG5vdCBmYXN0IGJ1dCBub3Qgc2xvdyAoMTAgPiB0aW1lIDwgMjApIGFuZCBhbGwgbGl2ZXMgKDQpIGFyZSByZW1haW5gLCAoKSA9PiB7XG4gICAgYXNzZXJ0LmVxdWFsKDExNTAsIGdldFRvdGFsU2NvcmUoYWxsQW5zd2Vyc05vdEZhc3ROb3RTbG93LCAzKSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKGDQoWFsYyByaWdodCBhc253ZXJzYCwgKCkgPT4ge1xuICBpdChgc2hvdWxkIHJldHVybiAxYCwgKCkgPT4ge1xuICAgIGFzc2VydC5lcXVhbCgxLCBnZXRSaWdodEFuc3dlcnNDb3VudChub3RBbGxBbnN3ZXJzKSk7XG4gIH0pO1xuICBpdChgc2hvdWxkIHJldHVybiAxMGAsICgpID0+IHtcbiAgICBhc3NlcnQuZXF1YWwoMTAsIGdldFJpZ2h0QW5zd2Vyc0NvdW50KGFsbEFuc3dlcnNOb3RGYXN0Tm90U2xvdykpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZShg0KFhbGMgc3BlZWQgYm9udXNlc2AsICgpID0+IHtcbiAgaXQoYHNob3VsZCByZXR1cm4gMWAsICgpID0+IHtcbiAgICBhc3NlcnQuZXF1YWwoMSwgZ2V0U3BlZWRCb251c0NvdW50KG5vdEFsbEFuc3dlcnMpKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoYNChYWxjIHNsb3cgcGVuYWx0aWVzYCwgKCkgPT4ge1xuICBpdChgc2hvdWxkIHJldHVybiAxYCwgKCkgPT4ge1xuICAgIGFzc2VydC5lcXVhbCgxLCBnZXRTbG93UGVuYWx0eUNvdW50KG5vdEFsbEFuc3dlcnMpKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJhc3NlcnQiXSwibWFwcGluZ3MiOiI7OztFQUFBO0VBQ0E7RUFDQTtFQUNBO0VBQ0EsU0FBUyxhQUFhLENBQUMsT0FBTyxFQUFFLEtBQUssRUFBRTtFQUN2QyxFQUFFLElBQUksT0FBTyxDQUFDLE1BQU0sR0FBRyxFQUFFLEVBQUU7RUFDM0IsSUFBSSxPQUFPLENBQUMsQ0FBQyxDQUFDO0VBQ2QsR0FBRztFQUNILEVBQUUsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxNQUFNLEtBQUs7RUFDaEQsSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEVBQUU7RUFDckIsTUFBTSxHQUFHLElBQUksR0FBRyxDQUFDO0VBQ2pCLEtBQUs7RUFDTCxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLEVBQUU7RUFDMUIsTUFBTSxHQUFHLElBQUksRUFBRSxDQUFDO0VBQ2hCLEtBQUs7RUFDTCxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLEVBQUU7RUFDMUIsTUFBTSxHQUFHLElBQUksRUFBRSxDQUFDO0VBQ2hCLEtBQUs7RUFDTCxJQUFJLE9BQU8sR0FBRyxDQUFDO0VBQ2YsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO0VBQ1IsRUFBRSxPQUFPLEtBQUssR0FBRyxLQUFLLEdBQUcsRUFBRSxDQUFDO0VBQzVCLENBQUM7QUFDRDtFQUNBLFNBQVMsb0JBQW9CLENBQUMsT0FBTyxFQUFFO0VBQ3ZDLEVBQUUsT0FBTyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxLQUFLLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUM7RUFDeEQsQ0FBQztBQUNEO0VBQ0EsU0FBUyxrQkFBa0IsQ0FBQyxPQUFPLEVBQUU7RUFDckMsRUFBRSxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUM7RUFDN0QsQ0FBQztBQUNEO0VBQ0EsU0FBUyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUU7RUFDdEMsRUFBRSxPQUFPLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLEtBQUssTUFBTSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUM7RUFDN0Q7O0VDOUJBO0VBQ0E7RUFDQTtFQUNBO0FBQ0E7RUFDQSxNQUFNLGFBQWE7RUFDbkIsQ0FBQztFQUNELEVBQUUsSUFBSSxFQUFFLElBQUk7RUFDWixFQUFFLElBQUksRUFBRSxFQUFFO0VBQ1YsQ0FBQyxFQUFFO0VBQ0gsRUFBRSxJQUFJLEVBQUUsS0FBSztFQUNiLEVBQUUsSUFBSSxFQUFFLENBQUM7RUFDVCxDQUFDLENBQUMsQ0FBQztBQUNIO0VBQ0EsTUFBTSx3QkFBd0I7RUFDOUIsQ0FBQztFQUNELEVBQUUsSUFBSSxFQUFFLElBQUk7RUFDWixFQUFFLElBQUksRUFBRSxFQUFFO0VBQ1YsQ0FBQyxFQUFFO0VBQ0gsRUFBRSxJQUFJLEVBQUUsSUFBSTtFQUNaLEVBQUUsSUFBSSxFQUFFLEVBQUU7RUFDVixDQUFDLEVBQUU7RUFDSCxFQUFFLElBQUksRUFBRSxJQUFJO0VBQ1osRUFBRSxJQUFJLEVBQUUsRUFBRTtFQUNWLENBQUMsRUFBRTtFQUNILEVBQUUsSUFBSSxFQUFFLElBQUk7RUFDWixFQUFFLElBQUksRUFBRSxFQUFFO0VBQ1YsQ0FBQyxFQUFFO0VBQ0gsRUFBRSxJQUFJLEVBQUUsSUFBSTtFQUNaLEVBQUUsSUFBSSxFQUFFLEVBQUU7RUFDVixDQUFDLEVBQUU7RUFDSCxFQUFFLElBQUksRUFBRSxJQUFJO0VBQ1osRUFBRSxJQUFJLEVBQUUsRUFBRTtFQUNWLENBQUMsRUFBRTtFQUNILEVBQUUsSUFBSSxFQUFFLElBQUk7RUFDWixFQUFFLElBQUksRUFBRSxFQUFFO0VBQ1YsQ0FBQyxFQUFFO0VBQ0gsRUFBRSxJQUFJLEVBQUUsSUFBSTtFQUNaLEVBQUUsSUFBSSxFQUFFLEVBQUU7RUFDVixDQUFDLEVBQUU7RUFDSCxFQUFFLElBQUksRUFBRSxJQUFJO0VBQ1osRUFBRSxJQUFJLEVBQUUsRUFBRTtFQUNWLENBQUMsRUFBRTtFQUNILEVBQUUsSUFBSSxFQUFFLElBQUk7RUFDWixFQUFFLElBQUksRUFBRSxFQUFFO0VBQ1YsQ0FBQyxDQUFDLENBQUM7QUFDSDtFQUNBLFFBQVEsQ0FBQyxDQUFDLDhCQUE4QixDQUFDLEVBQUUsTUFBTTtFQUNqRCxFQUFFLEVBQUUsQ0FBQyxDQUFDLHNEQUFzRCxDQUFDLEVBQUUsTUFBTTtFQUNyRSxJQUFJQSxXQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLGFBQWEsQ0FBQyxhQUFhLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztFQUN0RCxHQUFHLENBQUMsQ0FBQztFQUNMLEVBQUUsRUFBRSxDQUFDLENBQUMsNkhBQTZILENBQUMsRUFBRSxNQUFNO0VBQzVJLElBQUlBLFdBQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLGFBQWEsQ0FBQyx3QkFBd0IsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0VBQ25FLEdBQUcsQ0FBQyxDQUFDO0VBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDSDtFQUNBLFFBQVEsQ0FBQyxDQUFDLGtCQUFrQixDQUFDLEVBQUUsTUFBTTtFQUNyQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxFQUFFLE1BQU07RUFDOUIsSUFBSUEsV0FBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsb0JBQW9CLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztFQUN6RCxHQUFHLENBQUMsQ0FBQztFQUNMLEVBQUUsRUFBRSxDQUFDLENBQUMsZ0JBQWdCLENBQUMsRUFBRSxNQUFNO0VBQy9CLElBQUlBLFdBQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxFQUFFLG9CQUFvQixDQUFDLHdCQUF3QixDQUFDLENBQUMsQ0FBQztFQUNyRSxHQUFHLENBQUMsQ0FBQztFQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0g7RUFDQSxRQUFRLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQyxFQUFFLE1BQU07RUFDckMsRUFBRSxFQUFFLENBQUMsQ0FBQyxlQUFlLENBQUMsRUFBRSxNQUFNO0VBQzlCLElBQUlBLFdBQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLGtCQUFrQixDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7RUFDdkQsR0FBRyxDQUFDLENBQUM7RUFDTCxDQUFDLENBQUMsQ0FBQztBQUNIO0VBQ0EsUUFBUSxDQUFDLENBQUMsbUJBQW1CLENBQUMsRUFBRSxNQUFNO0VBQ3RDLEVBQUUsRUFBRSxDQUFDLENBQUMsZUFBZSxDQUFDLEVBQUUsTUFBTTtFQUM5QixJQUFJQSxXQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDO0VBQ3hELEdBQUcsQ0FBQyxDQUFDO0VBQ0wsQ0FBQyxDQUFDOzs7OyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
