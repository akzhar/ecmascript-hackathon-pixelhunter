(function (chai) {
  'use strict';

  // Scoring at the end of the game
  // @param  {array} answers массив ответов пользователя
  // @param  {integer} lives кол-во оставшихся жизней
  // @return {integer} кол-во набранных очков
  function getTotalScore(answers, lives) {
    if (answers.length < 10) {
      return -1;
    }
    const score = answers.reduce((acc, answer) => {
      if (answer.isOK) {
        acc += 100;
      }
      if (answer.time < 10) {
        acc += 50;
      }
      if (answer.time > 20) {
        acc -= 50;
      }
      return acc;
    }, 0);
    return score + lives * 50;
  }

  function getRightAnswersCount(answers) {
    return answers.filter((answer) => answer.isOK).length;
  }

  function getSpeedBonusCount(answers) {
    return answers.filter((answer) => answer.time < 10).length;
  }

  function getSlowPenaltyCount(answers) {
    return answers.filter((answer) => answer.time > 20).length;
  }

  // В блоке describe (набор тестов) указывается что будет тестировать этот блок тестов
  //   – Отвечает на вопрос «О чём эти тесты?»
  // В блоке it (тестовый случай) описывается, то что проверяет этот набор тестов
  //   – Отвечает на вопрос «Что делают эти проверки?»

  const notAllAnswers =
  [{
    isOK: true,
    time: 30
  }, {
    isOK: false,
    time: 5
  }];

  const allAnswersNotFastNotSlow =
  [{
    isOK: true,
    time: 11
  }, {
    isOK: true,
    time: 12
  }, {
    isOK: true,
    time: 11
  }, {
    isOK: true,
    time: 15
  }, {
    isOK: true,
    time: 19
  }, {
    isOK: true,
    time: 18
  }, {
    isOK: true,
    time: 17
  }, {
    isOK: true,
    time: 16
  }, {
    isOK: true,
    time: 18
  }, {
    isOK: true,
    time: 13
  }];

  describe(`Scoring at the end of the game`, () => {
    it(`should return -1 when not all answers (< 10) are given`, () => {
      chai.assert.equal(-1, getTotalScore(notAllAnswers, 2));
    });
    it(`should return 1150 when all answers are given (10) right, not fast but not slow (10 > time < 20) and all lives (4) are remain`, () => {
      chai.assert.equal(1150, getTotalScore(allAnswersNotFastNotSlow, 3));
    });
  });

  describe(`Сalc right asnwers`, () => {
    it(`should return 1`, () => {
      chai.assert.equal(1, getRightAnswersCount(notAllAnswers));
    });
    it(`should return 10`, () => {
      chai.assert.equal(10, getRightAnswersCount(allAnswersNotFastNotSlow));
    });
  });

  describe(`Сalc speed bonuses`, () => {
    it(`should return 1`, () => {
      chai.assert.equal(1, getSpeedBonusCount(notAllAnswers));
    });
  });

  describe(`Сalc slow penalties`, () => {
    it(`should return 1`, () => {
      chai.assert.equal(1, getSlowPenaltyCount(notAllAnswers));
    });
  });

}(chai));

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdHMvc2NvcmUudGVzdC5qcyIsInNvdXJjZXMiOlsianMvc2NvcmUuanMiLCJqcy90ZXN0cy9zY29yZS50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFNjb3JpbmcgYXQgdGhlIGVuZCBvZiB0aGUgZ2FtZVxuLy8gQHBhcmFtICB7YXJyYXl9IGFuc3dlcnMg0LzQsNGB0YHQuNCyINC+0YLQstC10YLQvtCyINC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRj1xuLy8gQHBhcmFtICB7aW50ZWdlcn0gbGl2ZXMg0LrQvtC7LdCy0L4g0L7RgdGC0LDQstGI0LjRhdGB0Y8g0LbQuNC30L3QtdC5XG4vLyBAcmV0dXJuIHtpbnRlZ2VyfSDQutC+0Lst0LLQviDQvdCw0LHRgNCw0L3QvdGL0YUg0L7Rh9C60L7QslxuZnVuY3Rpb24gZ2V0VG90YWxTY29yZShhbnN3ZXJzLCBsaXZlcykge1xuICBpZiAoYW5zd2Vycy5sZW5ndGggPCAxMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBjb25zdCBzY29yZSA9IGFuc3dlcnMucmVkdWNlKChhY2MsIGFuc3dlcikgPT4ge1xuICAgIGlmIChhbnN3ZXIuaXNPSykge1xuICAgICAgYWNjICs9IDEwMDtcbiAgICB9XG4gICAgaWYgKGFuc3dlci50aW1lIDwgMTApIHtcbiAgICAgIGFjYyArPSA1MDtcbiAgICB9XG4gICAgaWYgKGFuc3dlci50aW1lID4gMjApIHtcbiAgICAgIGFjYyAtPSA1MDtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgMCk7XG4gIHJldHVybiBzY29yZSArIGxpdmVzICogNTA7XG59XG5cbmZ1bmN0aW9uIGdldFJpZ2h0QW5zd2Vyc0NvdW50KGFuc3dlcnMpIHtcbiAgcmV0dXJuIGFuc3dlcnMuZmlsdGVyKChhbnN3ZXIpID0+IGFuc3dlci5pc09LKS5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFNwZWVkQm9udXNDb3VudChhbnN3ZXJzKSB7XG4gIHJldHVybiBhbnN3ZXJzLmZpbHRlcigoYW5zd2VyKSA9PiBhbnN3ZXIudGltZSA8IDEwKS5sZW5ndGg7XG59XG5cbmZ1bmN0aW9uIGdldFNsb3dQZW5hbHR5Q291bnQoYW5zd2Vycykge1xuICByZXR1cm4gYW5zd2Vycy5maWx0ZXIoKGFuc3dlcikgPT4gYW5zd2VyLnRpbWUgPiAyMCkubGVuZ3RoO1xufVxuXG5leHBvcnQge2dldFRvdGFsU2NvcmUsIGdldFJpZ2h0QW5zd2Vyc0NvdW50LCBnZXRTcGVlZEJvbnVzQ291bnQsIGdldFNsb3dQZW5hbHR5Q291bnR9O1xuIiwiaW1wb3J0IHthc3NlcnR9IGZyb20gJ2NoYWknO1xuaW1wb3J0IHtnZXRUb3RhbFNjb3JlLCBnZXRSaWdodEFuc3dlcnNDb3VudCwgZ2V0U3BlZWRCb251c0NvdW50LCBnZXRTbG93UGVuYWx0eUNvdW50fSBmcm9tICcuLi9zY29yZS5qcyc7XG5cbi8vINCSINCx0LvQvtC60LUgZGVzY3JpYmUgKNC90LDQsdC+0YAg0YLQtdGB0YLQvtCyKSDRg9C60LDQt9GL0LLQsNC10YLRgdGPINGH0YLQviDQsdGD0LTQtdGCINGC0LXRgdGC0LjRgNC+0LLQsNGC0Ywg0Y3RgtC+0YIg0LHQu9C+0Log0YLQtdGB0YLQvtCyXG4vLyAgIOKAkyDQntGC0LLQtdGH0LDQtdGCINC90LAg0LLQvtC/0YDQvtGBIMKr0J4g0YfRkdC8INGN0YLQuCDRgtC10YHRgtGLP8K7XG4vLyDQkiDQsdC70L7QutC1IGl0ICjRgtC10YHRgtC+0LLRi9C5INGB0LvRg9GH0LDQuSkg0L7Qv9C40YHRi9Cy0LDQtdGC0YHRjywg0YLQviDRh9GC0L4g0L/RgNC+0LLQtdGA0Y/QtdGCINGN0YLQvtGCINC90LDQsdC+0YAg0YLQtdGB0YLQvtCyXG4vLyAgIOKAkyDQntGC0LLQtdGH0LDQtdGCINC90LAg0LLQvtC/0YDQvtGBIMKr0KfRgtC+INC00LXQu9Cw0Y7RgiDRjdGC0Lgg0L/RgNC+0LLQtdGA0LrQuD/Cu1xuXG5jb25zdCBub3RBbGxBbnN3ZXJzID1cblt7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDMwXG59LCB7XG4gIGlzT0s6IGZhbHNlLFxuICB0aW1lOiA1XG59XTtcblxuY29uc3QgYWxsQW5zd2Vyc05vdEZhc3ROb3RTbG93ID1cblt7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDExXG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDEyXG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDExXG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDE1XG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDE5XG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDE4XG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDE3XG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDE2XG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDE4XG59LCB7XG4gIGlzT0s6IHRydWUsXG4gIHRpbWU6IDEzXG59XTtcblxuZGVzY3JpYmUoYFNjb3JpbmcgYXQgdGhlIGVuZCBvZiB0aGUgZ2FtZWAsICgpID0+IHtcbiAgaXQoYHNob3VsZCByZXR1cm4gLTEgd2hlbiBub3QgYWxsIGFuc3dlcnMgKDwgMTApIGFyZSBnaXZlbmAsICgpID0+IHtcbiAgICBhc3NlcnQuZXF1YWwoLTEsIGdldFRvdGFsU2NvcmUobm90QWxsQW5zd2VycywgMikpO1xuICB9KTtcbiAgaXQoYHNob3VsZCByZXR1cm4gMTE1MCB3aGVuIGFsbCBhbnN3ZXJzIGFyZSBnaXZlbiAoMTApIHJpZ2h0LCBub3QgZmFzdCBidXQgbm90IHNsb3cgKDEwID4gdGltZSA8IDIwKSBhbmQgYWxsIGxpdmVzICg0KSBhcmUgcmVtYWluYCwgKCkgPT4ge1xuICAgIGFzc2VydC5lcXVhbCgxMTUwLCBnZXRUb3RhbFNjb3JlKGFsbEFuc3dlcnNOb3RGYXN0Tm90U2xvdywgMykpO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZShg0KFhbGMgcmlnaHQgYXNud2Vyc2AsICgpID0+IHtcbiAgaXQoYHNob3VsZCByZXR1cm4gMWAsICgpID0+IHtcbiAgICBhc3NlcnQuZXF1YWwoMSwgZ2V0UmlnaHRBbnN3ZXJzQ291bnQobm90QWxsQW5zd2VycykpO1xuICB9KTtcbiAgaXQoYHNob3VsZCByZXR1cm4gMTBgLCAoKSA9PiB7XG4gICAgYXNzZXJ0LmVxdWFsKDEwLCBnZXRSaWdodEFuc3dlcnNDb3VudChhbGxBbnN3ZXJzTm90RmFzdE5vdFNsb3cpKTtcbiAgfSk7XG59KTtcblxuZGVzY3JpYmUoYNChYWxjIHNwZWVkIGJvbnVzZXNgLCAoKSA9PiB7XG4gIGl0KGBzaG91bGQgcmV0dXJuIDFgLCAoKSA9PiB7XG4gICAgYXNzZXJ0LmVxdWFsKDEsIGdldFNwZWVkQm9udXNDb3VudChub3RBbGxBbnN3ZXJzKSk7XG4gIH0pO1xufSk7XG5cbmRlc2NyaWJlKGDQoWFsYyBzbG93IHBlbmFsdGllc2AsICgpID0+IHtcbiAgaXQoYHNob3VsZCByZXR1cm4gMWAsICgpID0+IHtcbiAgICBhc3NlcnQuZXF1YWwoMSwgZ2V0U2xvd1BlbmFsdHlDb3VudChub3RBbGxBbnN3ZXJzKSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiYXNzZXJ0Il0sIm1hcHBpbmdzIjoiOzs7RUFBQTtFQUNBO0VBQ0E7RUFDQTtFQUNBLFNBQVMsYUFBYSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUU7RUFDdkMsRUFBRSxJQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsRUFBRSxFQUFFO0VBQzNCLElBQUksT0FBTyxDQUFDLENBQUMsQ0FBQztFQUNkLEdBQUc7RUFDSCxFQUFFLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLEVBQUUsTUFBTSxLQUFLO0VBQ2hELElBQUksSUFBSSxNQUFNLENBQUMsSUFBSSxFQUFFO0VBQ3JCLE1BQU0sR0FBRyxJQUFJLEdBQUcsQ0FBQztFQUNqQixLQUFLO0VBQ0wsSUFBSSxJQUFJLE1BQU0sQ0FBQyxJQUFJLEdBQUcsRUFBRSxFQUFFO0VBQzFCLE1BQU0sR0FBRyxJQUFJLEVBQUUsQ0FBQztFQUNoQixLQUFLO0VBQ0wsSUFBSSxJ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
